<aiml version="1.0.1" encoding="UTF-8">

            <category>
            <pattern>TRY MAZE</pattern>
            <template>
            <!-- starting room -->

            <think><set name="topic">ROOM00</set></think>

            <think><set name="seen00">UNSEEN</set></think>

            <think><set name="seen01">UNSEEN</set></think>

            <think><set name="seen02">UNSEEN</set></think>

            <think><set name="seen03">UNSEEN</set></think>

            <think><set name="LAMP">ROOM00</set></think>

            <think><set name="PIZZA">ROOM01</set></think>

            <srai> INTERNALLOOK<get name="topic" /></srai>
            </template>
            </category>
<category>
<pattern>GO NORTH</pattern>
<template>
<condition name="topic" value="ROOM00">
<think><set name="move">TRUE</set></think>
                        <srai>INTERNALREJECT</srai></condition>
<condition name="topic" value="ROOM01">
<think><set name="move">TRUE</set></think>
                        <srai>INTERNALREJECT</srai></condition>
<condition name="topic" value="ROOM02">
<think><set name="move">TRUE</set></think>
                        <srai>INTERNALREJECT</srai></condition>
<condition name="topic" value="ROOM03">
<think><set name="move">TRUE</set></think>
<srai>INTERNALLOOK ROOM00</srai>
                                <think><set name="move">FALSE</set></think>
 </condition>
<condition name="topic" value="ROOM00">
</condition>
<condition name="topic" value="ROOM01">
</condition>
<condition name="topic" value="ROOM02">
</condition>
<condition name="topic" value="ROOM03">
<think><set name="topic">ROOM00</set></think>
</condition>
</template>
</category>

<category>
<pattern>GO SOUTH</pattern>
<template>
<condition name="topic" value="ROOM00">
<think><set name="move">TRUE</set></think>
<srai>INTERNALLOOK ROOM03</srai>
                                <think><set name="move">FALSE</set></think>
 </condition>
<condition name="topic" value="ROOM01">
<think><set name="move">TRUE</set></think>
                        <srai>INTERNALREJECT</srai></condition>
<condition name="topic" value="ROOM02">
<think><set name="move">TRUE</set></think>
                        <srai>INTERNALREJECT</srai></condition>
<condition name="topic" value="ROOM03">
<think><set name="move">TRUE</set></think>
                        <srai>INTERNALREJECT</srai></condition>
<condition name="topic" value="ROOM00">
<think><set name="topic">ROOM03</set></think>
</condition>
<condition name="topic" value="ROOM01">
</condition>
<condition name="topic" value="ROOM02">
</condition>
<condition name="topic" value="ROOM03">
</condition>
</template>
</category>

<category>
<pattern>GO WEST</pattern>
<template>
<condition name="topic" value="ROOM00">
<think><set name="move">TRUE</set></think>
<srai>INTERNALLOOK ROOM02</srai>
                                <think><set name="move">FALSE</set></think>
 </condition>
<condition name="topic" value="ROOM01">
<think><set name="move">TRUE</set></think>
<srai>INTERNALLOOK ROOM00</srai>
                                <think><set name="move">FALSE</set></think>
 </condition>
<condition name="topic" value="ROOM02">
<think><set name="move">TRUE</set></think>
                        <srai>INTERNALREJECT</srai></condition>
<condition name="topic" value="ROOM03">
<think><set name="move">TRUE</set></think>
                        <srai>INTERNALREJECT</srai></condition>
<condition name="topic" value="ROOM00">
<think><set name="topic">ROOM02</set></think>
</condition>
<condition name="topic" value="ROOM01">
<think><set name="topic">ROOM00</set></think>
</condition>
<condition name="topic" value="ROOM02">
</condition>
<condition name="topic" value="ROOM03">
</condition>
</template>
</category>

<category>
<pattern>GO EAST</pattern>
<template>
<condition name="topic" value="ROOM00">
<think><set name="move">TRUE</set></think>
<srai>INTERNALLOOK ROOM01</srai>
                                <think><set name="move">FALSE</set></think>
 </condition>
<condition name="topic" value="ROOM01">
<think><set name="move">TRUE</set></think>
                        <srai>INTERNALREJECT</srai></condition>
<condition name="topic" value="ROOM02">
<think><set name="move">TRUE</set></think>
<srai>INTERNALLOOK ROOM00</srai>
                                <think><set name="move">FALSE</set></think>
 </condition>
<condition name="topic" value="ROOM03">
<think><set name="move">TRUE</set></think>
                        <srai>INTERNALREJECT</srai></condition>
<condition name="topic" value="ROOM00">
<think><set name="topic">ROOM01</set></think>
</condition>
<condition name="topic" value="ROOM01">
</condition>
<condition name="topic" value="ROOM02">
<think><set name="topic">ROOM00</set></think>
</condition>
<condition name="topic" value="ROOM03">
</condition>
</template>
</category>

<category>
<pattern>GO UP</pattern>
<template>
<condition name="topic" value="ROOM00">
<think><set name="move">TRUE</set></think>
                        <srai>INTERNALREJECT</srai></condition>
<condition name="topic" value="ROOM01">
<think><set name="move">TRUE</set></think>
                        <srai>INTERNALREJECT</srai></condition>
<condition name="topic" value="ROOM02">
<think><set name="move">TRUE</set></think>
                        <srai>INTERNALREJECT</srai></condition>
<condition name="topic" value="ROOM03">
<think><set name="move">TRUE</set></think>
                        <srai>INTERNALREJECT</srai></condition>
<condition name="topic" value="ROOM00">
</condition>
<condition name="topic" value="ROOM01">
</condition>
<condition name="topic" value="ROOM02">
</condition>
<condition name="topic" value="ROOM03">
</condition>
</template>
</category>

<category>
<pattern>GO DOWN</pattern>
<template>
<condition name="topic" value="ROOM00">
<think><set name="move">TRUE</set></think>
                        <srai>INTERNALREJECT</srai></condition>
<condition name="topic" value="ROOM01">
<think><set name="move">TRUE</set></think>
                        <srai>INTERNALREJECT</srai></condition>
<condition name="topic" value="ROOM02">
<think><set name="move">TRUE</set></think>
                        <srai>INTERNALREJECT</srai></condition>
<condition name="topic" value="ROOM03">
<think><set name="move">TRUE</set></think>
                        <srai>INTERNALREJECT</srai></condition>
<condition name="topic" value="ROOM00">
</condition>
<condition name="topic" value="ROOM01">
</condition>
<condition name="topic" value="ROOM02">
</condition>
<condition name="topic" value="ROOM03">
</condition>
</template>
</category>

<category>
<pattern>GO NORTHEAST</pattern>
<template>
<condition name="topic" value="ROOM00">
<think><set name="move">TRUE</set></think>
                        <srai>INTERNALREJECT</srai></condition>
<condition name="topic" value="ROOM01">
<think><set name="move">TRUE</set></think>
                        <srai>INTERNALREJECT</srai></condition>
<condition name="topic" value="ROOM02">
<think><set name="move">TRUE</set></think>
                        <srai>INTERNALREJECT</srai></condition>
<condition name="topic" value="ROOM03">
<think><set name="move">TRUE</set></think>
                        <srai>INTERNALREJECT</srai></condition>
<condition name="topic" value="ROOM00">
</condition>
<condition name="topic" value="ROOM01">
</condition>
<condition name="topic" value="ROOM02">
</condition>
<condition name="topic" value="ROOM03">
</condition>
</template>
</category>

<category>
<pattern>GO SOUTHEAST</pattern>
<template>
<condition name="topic" value="ROOM00">
<think><set name="move">TRUE</set></think>
                        <srai>INTERNALREJECT</srai></condition>
<condition name="topic" value="ROOM01">
<think><set name="move">TRUE</set></think>
                        <srai>INTERNALREJECT</srai></condition>
<condition name="topic" value="ROOM02">
<think><set name="move">TRUE</set></think>
                        <srai>INTERNALREJECT</srai></condition>
<condition name="topic" value="ROOM03">
<think><set name="move">TRUE</set></think>
                        <srai>INTERNALREJECT</srai></condition>
<condition name="topic" value="ROOM00">
</condition>
<condition name="topic" value="ROOM01">
</condition>
<condition name="topic" value="ROOM02">
</condition>
<condition name="topic" value="ROOM03">
</condition>
</template>
</category>

<category>
<pattern>GO NORTHWEST</pattern>
<template>
<condition name="topic" value="ROOM00">
<think><set name="move">TRUE</set></think>
                        <srai>INTERNALREJECT</srai></condition>
<condition name="topic" value="ROOM01">
<think><set name="move">TRUE</set></think>
                        <srai>INTERNALREJECT</srai></condition>
<condition name="topic" value="ROOM02">
<think><set name="move">TRUE</set></think>
                        <srai>INTERNALREJECT</srai></condition>
<condition name="topic" value="ROOM03">
<think><set name="move">TRUE</set></think>
                        <srai>INTERNALREJECT</srai></condition>
<condition name="topic" value="ROOM00">
</condition>
<condition name="topic" value="ROOM01">
</condition>
<condition name="topic" value="ROOM02">
</condition>
<condition name="topic" value="ROOM03">
</condition>
</template>
</category>

<category>
<pattern>GO SOUTHWEST</pattern>
<template>
<condition name="topic" value="ROOM00">
<think><set name="move">TRUE</set></think>
                        <srai>INTERNALREJECT</srai></condition>
<condition name="topic" value="ROOM01">
<think><set name="move">TRUE</set></think>
                        <srai>INTERNALREJECT</srai></condition>
<condition name="topic" value="ROOM02">
<think><set name="move">TRUE</set></think>
                        <srai>INTERNALREJECT</srai></condition>
<condition name="topic" value="ROOM03">
<think><set name="move">TRUE</set></think>
                        <srai>INTERNALREJECT</srai></condition>
<condition name="topic" value="ROOM00">
</condition>
<condition name="topic" value="ROOM01">
</condition>
<condition name="topic" value="ROOM02">
</condition>
<condition name="topic" value="ROOM03">
</condition>
</template>
</category>

<category>
            <pattern>
            INTERNALREJECT
            </pattern>
            <template>
                <condition name="move" value="TRUE">
                You cannot do that here.
                <think><set name="move">FALSE</set></think>
                </condition>
            </template>
            </category>

<!-- ROOM00 -->
        <category>
        <pattern>INTERNALLOOK ROOM00</pattern>
            <template>
                <condition name="seen00" value="UNSEEN">
                    Go east, west, or south. This is the longer text that fills the screen when the room is visited for the first time. It may contain several sentences.
                </condition>

                <condition name="seen00" value="SEEN">
                    Room 0 - Start room
                </condition>
                <srai> INTERNALLISTROOM00</srai>

                <think><set name="seen00">SEEN</set></think>
            </template>

        </category>
<!-- ROOM01 -->
        <category>
        <pattern>INTERNALLOOK ROOM01</pattern>
            <template>
                <condition name="seen01" value="UNSEEN">
                    Go west. This is the longer text that fills the screen when the room is visited for the first time. It may contain several sentences.
                </condition>

                <condition name="seen01" value="SEEN">
                    Room 1 - East room
                </condition>
                <srai> INTERNALLISTROOM01</srai>

                <think><set name="seen01">SEEN</set></think>
            </template>

        </category>
<!-- ROOM02 -->
        <category>
        <pattern>INTERNALLOOK ROOM02</pattern>
            <template>
                <condition name="seen02" value="UNSEEN">
                    Go east. This is the longer text that fills the screen when the room is visited for the first time. It may contain several sentences.
                </condition>

                <condition name="seen02" value="SEEN">
                    Room 2 - west room
                </condition>
                <srai> INTERNALLISTROOM02</srai>

                <think><set name="seen02">SEEN</set></think>
            </template>

        </category>
<!-- ROOM03 -->
        <category>
        <pattern>INTERNALLOOK ROOM03</pattern>
            <template>
                <condition name="seen03" value="UNSEEN">
                    go north. This is the longer text that fills the screen when the room is visited for the first time. It may contain several sentences.
                </condition>

                <condition name="seen03" value="SEEN">
                    Room 3 - South room
                </condition>
                <srai> INTERNALLISTROOM03</srai>

                <think><set name="seen03">SEEN</set></think>
            </template>

        </category>
<!-- simple look command -->
        <category>
        <pattern>
            LOOK
        </pattern>
        <template>
            <!-- one condition block for every room -->
            <condition name="topic" value="ROOM00">
                <think><set name="seen00">UNSEEN</set></think>
            </condition>
            <condition name="topic" value="ROOM01">
                <think><set name="seen01">UNSEEN</set></think>
            </condition>
            <condition name="topic" value="ROOM02">
                <think><set name="seen02">UNSEEN</set></think>
            </condition>
            <condition name="topic" value="ROOM03">
                <think><set name="seen03">UNSEEN</set></think>
            </condition>
            <srai> INTERNALLOOK<get name="topic" /></srai>
            </template>
            </category>

<!-- get and drop -->

<category><pattern>
GET LAMP
</pattern>
<template>
<srai>INTERNALGETLAMP <get name="topic" /></srai>
</template>
</category>

<category><pattern>
INTERNALGETLAMP ROOM00
</pattern>
<template>
<condition name="LAMP" value="ROOM00" ><think><set name="LAMP">ROOM-1</set></think></condition>
</template>
</category>

<category><pattern>
INTERNALGETLAMP ROOM01
</pattern>
<template>
<condition name="LAMP" value="ROOM01" ><think><set name="LAMP">ROOM-1</set></think></condition>
</template>
</category>

<category><pattern>
INTERNALGETLAMP ROOM02
</pattern>
<template>
<condition name="LAMP" value="ROOM02" ><think><set name="LAMP">ROOM-1</set></think></condition>
</template>
</category>

<category><pattern>
INTERNALGETLAMP ROOM03
</pattern>
<template>
<condition name="LAMP" value="ROOM03" ><think><set name="LAMP">ROOM-1</set></think></condition>
</template>
</category>

<category><pattern>
GET PIZZA
</pattern>
<template>
<srai>INTERNALGETPIZZA <get name="topic" /></srai>
</template>
</category>

<category><pattern>
INTERNALGETPIZZA ROOM00
</pattern>
<template>
<condition name="PIZZA" value="ROOM00" ><think><set name="PIZZA">ROOM-1</set></think></condition>
</template>
</category>

<category><pattern>
INTERNALGETPIZZA ROOM01
</pattern>
<template>
<condition name="PIZZA" value="ROOM01" ><think><set name="PIZZA">ROOM-1</set></think></condition>
</template>
</category>

<category><pattern>
INTERNALGETPIZZA ROOM02
</pattern>
<template>
<condition name="PIZZA" value="ROOM02" ><think><set name="PIZZA">ROOM-1</set></think></condition>
</template>
</category>

<category><pattern>
INTERNALGETPIZZA ROOM03
</pattern>
<template>
<condition name="PIZZA" value="ROOM03" ><think><set name="PIZZA">ROOM-1</set></think></condition>
</template>
</category>


<category><pattern>
DROP LAMP
</pattern>
<template>
<condition name="LAMP" value="ROOM-1" ><think><set name="LAMP"><get name="topic" /></set></think></condition>
</template>
</category>

<category><pattern>
DROP PIZZA
</pattern>
<template>
<condition name="PIZZA" value="ROOM-1" ><think><set name="PIZZA"><get name="topic" /></set></think></condition>
</template>
</category>

<!-- list items in room -->


<category><pattern>
INTERNALLISTROOM00</pattern>
<template>
<condition name="LAMP" value="ROOM00" >LAMP</condition>
<condition name="PIZZA" value="ROOM00" >PIZZA</condition>
</template>
</category>

<category><pattern>
INTERNALLISTROOM01</pattern>
<template>
<condition name="LAMP" value="ROOM01" >LAMP</condition>
<condition name="PIZZA" value="ROOM01" >PIZZA</condition>
</template>
</category>

<category><pattern>
INTERNALLISTROOM02</pattern>
<template>
<condition name="LAMP" value="ROOM02" >LAMP</condition>
<condition name="PIZZA" value="ROOM02" >PIZZA</condition>
</template>
</category>

<category><pattern>
INTERNALLISTROOM03</pattern>
<template>
<condition name="LAMP" value="ROOM03" >LAMP</condition>
<condition name="PIZZA" value="ROOM03" >PIZZA</condition>
</template>
</category>
</aiml>
